{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects Ulbi\\\\redux-toolkit-typescript-3\\\\src\\\\pages\\\\PhotoApiPage.tsx\",\n  _s = $RefreshSig$();\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport React, { useState } from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\nimport { photoAPI } from \"../services/PhotoService\";\nimport PhotoItem from \"../components/items/PhotoItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PhotoApiPage = () => {\n  _s();\n  // Получаем массив всех фоток с сервера для определения общего количества фоток\n  const {\n    data: totalCountElem\n  } = photoAPI.useFetchAllPhotoQuery();\n  let totalCount = 0;\n  if (totalCountElem) {\n    totalCount = totalCountElem.length;\n  }\n  const [page, setPage] = useState(1);\n  const [limit, setLimit] = useState(10);\n  const countPage = Math.ceil(totalCount / limit);\n  const pages = [];\n  for (let i = 0; i < countPage; i++) {\n    pages.push(i + 1);\n  }\n  // Получаем массив фоток с сервера постранично\n  const {\n    data: photos,\n    isError,\n    isLoading\n  } = photoAPI.useGetAllPhotoByPageQuery(page);\n  const handleUpdate = () => {};\n  const handleRemove = () => {};\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"card mt-6\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [photos && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"textCenter\",\n          children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0444\\u043E\\u0442\\u043E\\u043A \\u0438\\u0437 photoAPI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [error && /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"\\u0417\\u0430\\u043F\\u0443\\u0441\\u0442\\u0438 \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u0443 \\u0432 \\u043F\\u0430\\u0440\\u0440\\u0430\\u043B\\u0435\\u043B\\u044C\\u043D\\u043E\\u043C \\u0442\\u0435\\u0440\\u043C\\u0438\\u043D\\u0430\\u043B\\u0435:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"colorRed\",\n              children: \" json-server --watch db.json --port 5000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this), createError && /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: \" \\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0438. \"\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), deleteError && /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: \" \\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u0438. \"\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), updateError && /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: \" \\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0438. \"\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), photos && photos.map(photo => /*#__PURE__*/_jsxDEV(PhotoItem, {\n        photo: photo,\n        update: handleUpdate,\n        remove: handleRemove\n      }, photo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 33\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(PhotoApiPage, \"gVdIF0bOXM1p0A5U8wfDGH2VIfg=\", false, function () {\n  return [photoAPI.useFetchAllPhotoQuery, photoAPI.useGetAllPhotoByPageQuery];\n});\n_c = PhotoApiPage;\nexport default PhotoApiPage;\nvar _c;\n$RefreshReg$(_c, \"PhotoApiPage\");","map":{"version":3,"names":["React","useState","Container","Row","photoAPI","PhotoItem","jsxDEV","_jsxDEV","Fragment","_Fragment","PhotoApiPage","_s","data","totalCountElem","useFetchAllPhotoQuery","totalCount","length","page","setPage","limit","setLimit","countPage","Math","ceil","pages","i","push","photos","isError","isLoading","useGetAllPhotoByPageQuery","handleUpdate","handleRemove","className","children","fileName","_jsxFileName","lineNumber","columnNumber","error","createError","deleteError","updateError","map","photo","update","remove","id","_c","$RefreshReg$"],"sources":["C:/Projects Ulbi/redux-toolkit-typescript-3/src/pages/PhotoApiPage.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport React, { FC, useState } from \"react\";\r\nimport { Container, Row, Button } from \"react-bootstrap\";\r\nimport { photoAPI } from \"../services/PhotoService\";\r\nimport { IPhoto, IOption } from \"../models/types\";\r\nimport PhotoItem from \"../components/items/PhotoItem\";\r\nimport MySelect from \"../components/ui/select/MySelect\";\r\nimport PaginationButtons from \"../components/ui/PaginationButtons\";\r\n\r\nconst PhotoApiPage = () => {\r\n  // Получаем массив всех фоток с сервера для определения общего количества фоток\r\n  const { data: totalCountElem } = photoAPI.useFetchAllPhotoQuery();\r\n  let totalCount = 0;\r\n  if (totalCountElem) {\r\n    totalCount = totalCountElem.length;\r\n  }\r\n\r\n  const [page, setPage] = useState<number>(1);\r\n  const [limit, setLimit] = useState<number>(10);\r\n  const countPage: number = Math.ceil(totalCount / limit);\r\n  const pages: number[] = [];\r\n  for (let i = 0; i < countPage; i++) {\r\n    pages.push(i + 1);\r\n  }\r\n  // Получаем массив фоток с сервера постранично\r\n  const { data: photos, isError, isLoading } = photoAPI.useGetAllPhotoByPageQuery(page);\r\n\r\n  const handleUpdate = () => {};\r\n  const handleRemove = () => {};\r\n\r\n  return (\r\n    <Container className=\"card mt-6\">\r\n      <Row>\r\n        {photos && (\r\n          <div>\r\n            <h3 className=\"textCenter\">Список фоток из photoAPI</h3>\r\n          </div>\r\n        )}\r\n\r\n        <div>\r\n          <>\r\n            {error && (\r\n              <h6>\r\n                Запусти команду в парралельном терминале:\r\n                <span className=\"colorRed\"> json-server --watch db.json --port 5000</span>\r\n              </h6>\r\n            )}\r\n\r\n            {createError && (\r\n              <h1>\r\n                <> Произошла ошибка при создании. </>\r\n              </h1>\r\n            )}\r\n            {deleteError && (\r\n              <h1>\r\n                <> Произошла ошибка при удалении. </>\r\n              </h1>\r\n            )}\r\n            {updateError && (\r\n              <h1>\r\n                <> Произошла ошибка при обновлении. </>\r\n              </h1>\r\n            )}\r\n          </>\r\n        </div>\r\n\r\n        {photos &&\r\n          photos.map((photo) => <PhotoItem key={photo.id} photo={photo} update={handleUpdate} remove={handleRemove} />)}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PhotoApiPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}